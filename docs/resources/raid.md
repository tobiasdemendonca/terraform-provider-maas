---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "maas_raid Resource - terraform-provider-maas"
subcategory: ""
description: |-
  Provides a resource to manage MAAS RAIDs, and construct them from block devices and partitions.
---

# maas_raid (Resource)

Provides a resource to manage MAAS RAIDs, and construct them from block devices and partitions.

## Example Usage

```terraform
resource "maas_machine" "virsh_vm1" {
  power_type = "virsh"
  power_parameters = jsonencode({
    power_address = "qemu+ssh://ubuntu@10.113.1.26/system"
    power_id      = "test-vm1"
  })
  pxe_mac_address = "52:54:00:89:f5:3e"
}

resource "maas_block_device" "raidbd1" {
  machine        = maas_machine.virsh_vm1.id
  name           = "raidbd1"
  id_path        = "/dev/raidbd1"
  size_gigabytes = 27
  tags = [
    "ssd",
  ]
}

resource "maas_block_device" "raiddb2" {
  machine        = maas_machine.virsh_vm1.id
  name           = "raiddb2"
  id_path        = "/dev/raiddb2"
  size_gigabytes = 35
  tags = [
    "ssd",
  ]

  partitions {
    size_gigabytes = 30
  }
}

resource "maas_block_device" "raidbd3" {
  machine        = maas_machine.virsh_vm1.id
  name           = "raidbd3"
  id_path        = "/dev/raidbd3"
  size_gigabytes = 21
  tags = [
    "ssd",
  ]
}

resource "maas_raid" "raid1" {
  machine = maas_machine.virsh_vm1.id
  fs_type = "ext4"
  name    = "RAID 1"
  level   = "1"

  block_devices = [
    resource.maas_block_device.raidbd1.id
  ]
  partitions = [
    resource.maas_block_device.raiddb2.partitions.0.id
  ]
  spare_devices = [
    resource.maas_block_device.raidbd3.id
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `level` (String) The RAID Level. Valid levels are: `"0", "1", "5", "6", "10"`
- `machine` (String) The machine identifier (system ID, hostname, or FQDN) that owns the RAID.
- `name` (String) The name for the RAID

### Optional

- `block_devices` (Set of String) The list of block devices to be included in the RAID.
*Note*: The boot disk cannot participate in the RAID as a block device, a partition on top of it should be supplied instead.
*Note*: Block devices with partitions are not valid targets to construct a RAID, supply their partitions instead.
- `fs_type` (String) The file system type (e.g. `ext4`). If this is not set, the RAID is unformatted.
- `mount_options` (String) Comma separated options used for the RAID mount.
- `mount_point` (String) The mount point used. If this is not set, the RAID is not mounted.
- `partitions` (Set of String) The list of partitions to be included in the RAID.
- `spare_devices` (Set of String) The list of spare block devices for the RAID.
*Note*: The boot disk cannot participate in the RAID as a block device, a partition on top of it should be supplied instead.
*Note*: Block devices with partitions are not valid targets to construct a RAID, supply their partitions instead.
- `spare_partitions` (Set of String) The list of spare partitions for the RAID.

### Read-Only

- `id` (String) The ID of this resource.
- `size_gigabytes` (Number) The volume size (given in GiB).
